<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>JWT 예제</title>
</head>
<body>
<script>
    fetch('/student/login', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({
            email: 'jjdd9758@naver.com',
            password: '1234'
        })
    })
        .then(response => response.text())
        .then(token => {
            // 토큰을 받은 후 요청 헤더에 추가하여 서버로 다시 요청 보냄
            fetch('/api/data', {
                headers: {
                    'Authorization': 'Bearer ' + token
                }
            })
                .then(response => response.json())
                .then(data => console.log(data))
                .catch(error => console.error(error))
        })
        .catch(error => console.error(error))
</script>
</body>
</html>
